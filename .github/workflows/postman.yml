name: Automated API tests using Postman CLI

on: push

jobs:
  automated-api-tests:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Install Postman CLI
        run: |
          curl -o- "https://dl-cli.pstmn.io/install/linux64.sh" | sh
      - name: Login to Postman CLI
        run: postman login --with-api-key ${{ secrets.POSTMAN_API_KEY }}
      - name: Run API tests
        run: |
          postman collection run "43011729-da38dcca-fbfd-4cb9-8268-85dc81067033 43011729-da38dcca-fbfd-4cb9-8268-85dc81067033 -i 43011729-a0e4932f-1e7c-4136-9197-8e4178db4383 -i 43011729-7bc78aed-9a9d-43e9-ac55-57b4529f79d7 -i 43011729-e222c5c6-d388-41e9-b675-91994f8b6c4e -i 43011729-e763a5da-d158-4c54-b082-6130fe1099c2 -i 43011729-6c433b14-7356-41ce-86ce-c189509c2f78 -i 43011729-76c30a23-0dee-4ea3-a0d3-d751b2e8e80c"
